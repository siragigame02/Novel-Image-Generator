# 📚 Novel Image Generator

小説テキスト（`.txt`）と挿絵画像（`.png`）から、CG集形式の**縦・横文字付き画像**を自動生成するツールです。  
GUIで操作可能、設定保存・読み込みにも対応しています。

## 🎁 Windows版バイナリが欲しい方へ
ソースコードは無料で公開していますが、Pythonの実行環境がない方向けに
コンパイル済みのWindowsバイナリ（.exe）を配布中です。

🔸 最新バイナリ配布場所（支援者限定）  
👉 https://siragi02.fanbox.cc/

支援いただくことで、今後の開発や機能追加のモチベーションになります！

---

## 🖼 概要

- ✅ 小説本文からページごとの画像を自動生成
- ✅ 挿絵画像の指定タイミングで背景を切り替え
- ✅ セリフは**縦書き吹き出し**、ナレーションは**横書き＋暗背景**
- ✅ GUIでフォント・色・透過度などを設定可能
- ✅ 出力形式：JPEG（1ページ＝1画像）
- ✅ DLSite / DMMなどでのCG集形式配布に対応

### 🔤 フォントについて

本ツールでは、文字描画にフォントファイル（`.ttf`, `.ttc`）が必要です。  
デフォルトでは
MPLUS1p-bold.ttf
- [M+ FONTS](https://mplus-fonts.osdn.jp/)
を使用しています

#### 使いたいフォントがある場合：
1. `C:\Windows\Fonts` から目的の `.ttf` / `.ttc` ファイルをコピー
2. 本ツールの `fonts/` フォルダに配置してください

#### または、以下のフリーフォントをご利用ください：
- [Noto Sans JP](https://fonts.google.com/noto/specimen/Noto+Sans+JP)
- [M+ FONTS](https://mplus-fonts.osdn.jp/)
- 
---

## 🚀 インストール方法

### 必要条件
- Python 3.8以上（推奨：3.10〜）
- Windows OS（他環境でも動作する可能性あり）

### セットアップ手順

```bash
git clone https://github.com/yourname/novel-image-generator.git
cd novel-image-generator

# 仮想環境（任意）
python -m venv venv
venv\Scripts\activate

# 必要パッケージのインストール
pip install -r requirements.txt
````

---

## 📂 使い方

```bash
python main.py
```

起動するとGUIウィンドウが表示されます。以下の情報を入力してください：

### 入力項目（GUI）

| 項目       | 説明                             |
| -------- | ------------------------------ |
| フォントパス   | `.ttf` フォントファイル（横書き用）          |
| フォントサイズ  | 文字の大きさ                         |
| 最大文字数    | 横書き時の1行の文字数（自動改行）              |
| 画像フォルダ   | `001.png`, `002.png` 等が入ったフォルダ |
| テキストファイル | 小説本文（UTF-8）                    |
| 出力フォルダ名  | 生成されるフォルダ名（output/内）           |
| 色設定      | 各種テキスト・背景・枠色などを指定可能            |
| 出力ボタン    | 指定内容で画像を一括生成します                |

---

## 📝 テキスト構文ルール

```text
[scene:001]
「セリフ1」
「セリフ2」
[para]
ナレーションの地の文が続きます。
[scene:002]
```

* `scene:` タグ → 挿絵画像の切替（例：`001.png`）
* `para` タグ → 改ページ（新しい画像を開始）
* `「〜」` → セリフ扱い（縦書き吹き出し、ページ内最大2つまで）
* セリフがなければナレーションとみなされ、横書きで描画されます

---

## 📸 出力ファイル例

```
output/作品名/
├── 作品名_001.jpg
├── 作品名_002.jpg
├── 作品名_003.jpg
...
```

---

## ⚙ 設定保存について

GUIで入力した設定は `config/settings.yaml` に自動保存されます。
次回起動時に復元されるため、繰り返しの作業が快適になります。

---

## 🧩 開発中の機能（予定）

* [ ] PDF一括出力（オプション）
* [ ] 縦書きナレーション対応
* [ ] 複数フォントプリセットの保存・切替
* [ ] 多言語UI対応（日本語 / 英語）

---

## 📝 ライセンス

MITライセンス
自由に改変・再配布していただいて構いません。

---

## ✨ 作者・協力

開発・設計：**Siragi**
サポート・ドキュメント：ChatGPT

---

## 📮 ご連絡・ご提案

機能追加・不具合報告などがあれば、GitHubのIssueまたはPull Requestでどうぞ！

```
